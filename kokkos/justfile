# Default recipe runs when `just` is called without arguments
default: build

# Configure the project with CMake and Kokkos HIP support
configure:
    cmake -B build -S . -DKokkos_ENABLE_HIP=ON

# Build the project
build: configure
    cmake --build build

# Build with specific number of jobs (default: 4)
build-parallel jobs="4":
    cmake --build build -j {{jobs}}

# Clean the build directory
clean:
    rm -rf build

# Rebuild from scratch
rebuild: clean build

# Run tests if they exist
test: build
    cd build && ctest
